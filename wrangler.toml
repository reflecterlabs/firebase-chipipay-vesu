# Cloudflare Pages configuration for OpenTheDoorz SDK
# This project uses Next.js 15 with App Router deployed to Cloudflare Pages

name = "openthedoorz-sdk"
compatibility_date = "2024-01-01"

# Deploy only the static and server files, not the build cache
# Cloudflare Pages will serve .next/static and handle routing
pages_build_output_dir = ".next"

# Build configuration
[build]
command = "npm run build"
watch_paths = ["app/**", "lib/**", "public/**", "next.config.js", "tailwind.config.js", "postcss.config.js"]
root_dir = "."

# Exclude large cache files from upload
[env.production]
vars = { NODE_ENV = "production" }

[env.preview]
vars = { NODE_ENV = "preview" }

# Note: Cloudflare will automatically exclude node_modules and build caches
# These directories should be in .gitignore:
# - .next/cache/
# - .next/cache-webpack/
# - node_modules/

# Static assets caching
# Cloudflare Pages automatically handles caching for static assets
